<h5>wallet</h5>

<div class="row">
  <div class="col-3">
    
    <button class="btn btn-primary btn-sm mr-1" (click)="monitorMarket()"><i class="fa-solid fa-check"></i> Monitor market</button>
    <button class="btn btn-danger btn-sm mr-1" (click)="testBuy()"><i class="fa-solid fa-check"></i> Buy 10 ADA</button>
  </div>
  <div class="input-group col-2 input-group-sm">
    <input class="form-control sm" placeholder="yyyy-mm-dd"
           name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" (dateSelect)="filterOrderList()">
    <button class="btn btn-outline-secondary calendar btn-sm mr-1" (click)="d.toggle();filterOrderList();" type="button"><i class="fa-solid fa-calendar-days"></i></button>
    <button class="btn btn-secondary btn-sm mr-1" (click)="model = today();filterOrderList()">Today</button>
  </div>
  <div class="col-5">
    <div *ngIf="showMessageInfo" class="alert alert-warning"
      style="height: 30px;padding-top: 3px;margin-bottom: 0px;width: 150px;" role="alert"> Trading </div>
  </div>
  <div class="col-2">
    <mat-slide-toggle [(ngModel)]="checked" class="example-margin" [color]="color" (change)="changed()"> <b
        *ngIf="checked">Binance : On</b> <b *ngIf="!checked">Binance : Off</b>
    </mat-slide-toggle>

  </div>
</div>

<div class="row">
  <div class="col-8">
    <table class="table table-sm mt-2">
      <thead class="thead-light">
        <tr>
          <th scope="col" id="last" class="tableTh ">Symbol</th>
          <th scope="col" id="last" class="tableTh ">Amount</th>
          <th scope="col" id="volume" class="tableTh">Open</th>
          <th scope="col" id="volume" class="tableTh">High</th>
          <th scope="col" id="volume" class="tableTh">Low</th>
          <th scope="col" id="volume" class="tableTh">Close</th>
          <th scope="col" id="volume" class="tableTh">%</th>
          <th scope="col" id="volume" class="tableTh">Profit</th>
          <th scope="col" id="volume" class="tableTh">Open</th>
          <th scope="col" id="volume" class="tableTh">Close</th>
          <th scope="col" id="volume" class="tableTh">Type</th>
          <th scope="col" id="volume" class="tableTh">Rsi</th>
          <th scope="col" id="volume" class="tableTh"></th>
          <th scope="col" id="volume" class="tableTh"></th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orderFilter">
          <td>{{order.symbol}}</td>
          <td>{{(order.openPrice * order.quantity).toFixed(0)}}</td>
          <td>{{order.openPrice}}</td>
          <td>{{order.highPrice}}</td>
          <td>{{order.lowPrice}}</td>
          <td>{{order.closePrice}}</td>
          <td *ngIf="order.closePrice==0">--</td>
          <td *ngIf="order.closePrice==0">--</td>
          <td *ngIf="(order.closePrice - order.openPrice) >=0 && order.closePrice!=0" style="color: limegreen;">{{
            (((order.closePrice - order.openPrice) / (order.openPrice))*100).toFixed(2) }}</td>
          <td *ngIf="(order.closePrice - order.openPrice) < 0 && order.closePrice!=0" style="color: red;">{{
            (((order.closePrice - order.openPrice) / (order.openPrice))*100).toFixed(2) }}</td>
          <td *ngIf="((order.closePrice - order.openPrice)*order.quantity-order.fee) >=0 && order.closePrice!=0"
            style="color: limegreen;">{{((order.closePrice - order.openPrice)*order.quantity-order.fee).toFixed(2)}}
          </td>
          <td *ngIf="((order.closePrice - order.openPrice)*order.quantity-order.fee) < 0 && order.closePrice!=0"
            style="color: red;">{{((order.closePrice - order.openPrice)*order.quantity-order.fee).toFixed(2)}}</td>
          <td>{{order.openDate}}</td>
          <td>{{order.closeDate}}</td>
          <td>{{order.type}}</td>
          <td>{{order.rsi.toFixed(2)}}</td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="closeOrder(openOrder.id,coinData.c);"><i class="fa-solid fa-check"></i> Sell</button>
          </td>
          <td>
            <a [routerLink]="['/orderDetail', order.id]" target="_blank" class="btn btn btn-primary btn-sm"><span><i
                  class="far fa-file-alt"></i> Show</span></a>
          </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td><b>Total</b></td>
          <td *ngIf="totalProfit >=0" style="color: limegreen;">{{totalProfit}}</td>
          <td *ngIf="totalProfit < 0" style="color: red;">{{totalProfit}}</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="col-4">
   
    <div class="card-body">
      <div class="row">
        <!-- <div class="col-2">Amount : {{openOrder?.openPrice * openOrder?.quantity}}</div>
        <div class="col-2">Price : {{openOrder?.openPrice}}</div>
        <div class="col-2" *ngIf="(((coinData?.k?.c-openOrder?.openPrice) / (openOrder?.openPrice))*100) >=0"
          style="color: limegreen;">{{ (((coinData?.k?.c-openOrder?.openPrice) /
          (openOrder?.openPrice))*100).toFixed(2) }}%</div>
        <div class="col-2" *ngIf="(((coinData?.k?.c-openOrder?.openPrice) / (openOrder?.openPrice))*100) <0"
          style="color: red;">{{ (((coinData?.k?.c-openOrder?.openPrice) /
          (openOrder?.openPrice))*100).toFixed(2) }}%</div>
        <div class="col-2" *ngIf="(coinData?.k?.c-openOrder?.openPrice) * openOrder?.quantity>=0"
          style="color: limegreen;">
          Profit :{{((coinData?.k?.c-openOrder?.openPrice) * openOrder?.quantity).toFixed(2)}}</div>
        <div class="col-2" *ngIf="(coinData?.k?.c-openOrder?.openPrice) * openOrder?.quantity<0"
          style="color: red;">Profit
          :{{((coinData?.k?.c-openOrder?.openPrice) * openOrder?.quantity).toFixed(2)}}</div>
      </div> -->

      <!-- <div class="row"  *ngIf="chartOptions">
        <highcharts-chart constructorType='stockChart' [Highcharts]="highcharts" [options]="chartOptions"
        style="width: 100%; height: 550px; display: block;">
      </highcharts-chart>
      </div> -->
    </div>

  </div>
</div>