<div class="max-w-4xl mx-auto p-4 space-y-4">
  <div class="flex items-center justify-between">
    <h1 class="text-lg font-semibold text-white">Trading Settings</h1>
    <button class="px-3 py-1.5 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow" (click)="load()">
      Reload
    </button>
  </div>

  <div *ngIf="error" class="px-3 py-2 text-sm text-red-200 bg-red-500/10 border border-red-500/40 rounded">
    {{error}}
  </div>
  <div *ngIf="message" class="px-3 py-2 text-sm text-emerald-200 bg-emerald-500/10 border border-emerald-500/40 rounded">
    {{message}}
  </div>

  <div *ngIf="settings" class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="bg-gray-900/70 border border-gray-800 rounded-lg p-4 space-y-3">
      <h3 class="text-xs uppercase tracking-wider text-gray-400">Core</h3>
      <label class="block text-sm text-gray-200">Interval
        <input class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
               [(ngModel)]="settings.interval">
      </label>
      <label class="block text-sm text-gray-200">Order Size (Quote)
        <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
               [(ngModel)]="settings.quoteOrderQty">
      </label>
      <div class="grid grid-cols-2 gap-3">
        <label class="block text-sm text-gray-200">Max Open Trades
          <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
                 [(ngModel)]="settings.maxOpenTrades">
        </label>
        <label class="block text-sm text-gray-200">Symbols Traded
          <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
                 [(ngModel)]="settings.numberOfSymbols">
        </label>
      </div>
    </div>

    <div class="bg-gray-900/70 border border-gray-800 rounded-lg p-4 space-y-3">
      <h3 class="text-xs uppercase tracking-wider text-gray-400">Risk</h3>
      <div class="grid grid-cols-2 gap-3">
        <label class="block text-sm text-gray-200">Stop Loss (%)
          <input type="number" step="0.1" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-red-500 focus:ring-2 focus:ring-red-500/20"
                 [(ngModel)]="settings.stopLossPercentage">
        </label>
        <label class="block text-sm text-gray-200">Take Profit Trail (%)
          <input type="number" step="0.1" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-green-500 focus:ring-2 focus:ring-green-500/20"
                 [(ngModel)]="settings.takeProfitPercentage">
        </label>
      </div>
      <label class="block text-sm text-gray-200">Order Offset (%)
        <input type="number" step="0.01" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20"
               [(ngModel)]="settings.orderOffset">
      </label>
      <label class="block text-sm text-gray-200">Time Based Kill (minutes)
        <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20"
               [(ngModel)]="settings.timeBasedKillMinutes">
      </label>
    </div>

    <div class="bg-gray-900/70 border border-gray-800 rounded-lg p-4 space-y-3">
      <h3 class="text-xs uppercase tracking-wider text-gray-400">Entry Filters</h3>
      <label class="block text-sm text-gray-200">Min Move Up (%)
        <input type="number" step="0.01" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
               [(ngModel)]="settings.minPercentageUp">
      </label>
      <div class="grid grid-cols-2 gap-3">
        <label class="block text-sm text-gray-200">RSI Min
          <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
                 [(ngModel)]="settings.minRSI">
        </label>
        <label class="block text-sm text-gray-200">RSI Max
          <input type="number" class="mt-1 w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"
                 [(ngModel)]="settings.maxRSI">
        </label>
      </div>
    </div>
  </div>

  <div class="flex items-center justify-end gap-3">
    <button class="px-4 py-2 text-sm font-semibold text-white bg-gray-700 hover:bg-gray-600 rounded-lg" (click)="load()" [disabled]="saving">
      Reset
    </button>
    <button class="px-4 py-2 text-sm font-semibold text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow" (click)="save()" [disabled]="saving">
      {{ saving ? 'Saving...' : 'Save' }}
    </button>
  </div>
</div>
